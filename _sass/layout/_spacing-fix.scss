/* ==========================================================================
   SPACING FIX - Prevent content overlap with sidebar
   ========================================================================== */

/* Increase margin between sidebar and main content - but NOT for single posts */
.archive .page__content,
.page__content:not(.single-post) {
  margin-left: 1.5rem; // Add more space from sidebar
  padding-left: 1rem; // Additional internal padding
  
  @media (min-width: 80em) {
    margin-left: 2rem; // Even more space on larger screens
    padding-left: 1.5rem; // More internal padding on larger screens
  }
}

/* Single post pages should have normal width */
.layout--single .page__content {
  margin-left: 0; // Reset margins for single posts
  padding-left: 0; // Reset padding for single posts
  max-width: none; // Allow full width
}

/* Ensure sidebar has proper spacing */
.sidebar {
  padding-right: 1.5rem; // Add padding to right side of sidebar
  
  @media (min-width: 80em) {
    padding-right: 2rem; // More padding on larger screens
  }
}

/* Adjust archive items to prevent overlap */
.archive__item {
  margin-left: 0.5rem; // Small additional offset for archive items
}

/* Archive pages need more spacing, but single posts should be normal */
.layout--archive .page__inner-wrap .page__content {
  margin-left: 2rem; // More space for archive pages
  padding-left: 1.5rem; // Additional internal padding
  
  @media (min-width: 80em) {
    margin-left: 2.5rem; // Even more space on large screens
    padding-left: 2rem; // More internal padding on large screens
  }
}

/* Additional layout container fixes */
.layout--single {
  .sidebar {
    padding-right: 2rem; // More padding in single layout
  }
}

/* Grid layout adjustments - only for archive pages, not single posts */
@media (min-width: 64em) {
  .layout--archive .page {
    display: grid;
    grid-template-columns: 300px 1fr; // Fixed sidebar width, flexible content
    grid-gap: 2rem; // Gap between sidebar and content
  }
  
  /* Single posts should use normal flexbox layout */
  .layout--single .page {
    display: block; // Reset grid for single posts
  }
}

/* Mobile adjustments - no overlap issues on mobile */
@media (max-width: 63.9375em) {
  .page__content,
  .layout--archive .page__inner-wrap .page__content {
    margin-left: 0; // Reset margins on mobile
    padding-left: 0; // Reset padding on mobile
  }
  
  .sidebar {
    padding-right: 0; // Reset sidebar padding on mobile
  }
  
  .archive__item {
    margin-left: 0; // Reset archive item margins on mobile
  }
  
  .layout--archive .page {
    display: block; // Reset grid on mobile
  }
}